<!DOCTYPE html>
<html lang="fr" id="reviewPage">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Critique - Spark of the everflame</title>
  <link rel="stylesheet" href="https://use.typekit.net/kjd6pud.css" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="review.css" />
</head>

<body>
  <!-- Barre latÃ©rale -->
  <nav class="sidebar">
    <div class="logo">ğŸ“š</div>
    <button class="nav-btn" title="Accueil" onclick="window.location.href='index.html'">ğŸ </button>
    <button class="nav-btn" title="Favoris" id="btnFavoris">â¤ï¸</button>
    <button class="nav-btn" title="ParamÃ¨tres">âš™ï¸</button>
    <button class="nav-btn contact-btn" aria-label="Contact" title="contact">âœ‰ï¸</button>
  </nav>

  <!-- Bouton retour -->
  <button class="back-btn" onclick="window.history.back()">â†</button>

  <!-- Contenu principal -->
  <main>
    <!-- Image principale -->
    <img src="Images/reviewSOTE.png" alt="Spark of the everflame - critique" id="mainCover" />

    <div class="review-text">
      <h1>Spark of the everflame</h1>
      <div class="author">Par Penn Cole</div>

      <section class="summary-section">
        <h2>RÃ©sumÃ©</h2>
        <p>
          Dans un monde colonisÃ© par les dieux et gouvernÃ© par les Descendants, leur cruelle progÃ©niture, Diem Bellator aimerait Ã©chapper Ã  son misÃ©rable quotidien. La disparition soudaine de sa mÃ¨re l'oblige Ã  entrer dans l'univers sombre des Descendants afin de percer les mystÃ¨res qu'Auralie a laissÃ©s derriÃ¨re elle. Contrainte de participer Ã  la guerre civile qui s'intensifie, Diem devra naviguer entre les rÃ¨gles du pouvoir, de la politique et de l'amour pour sauver sa familleâ€¦
        </p>
      </section>

      <section class="opinion-section">
        <h2>Mon avis</h2>
        <p>
          Jâ€™aime beaucoup lâ€™intrigue, Diem ne manque pas dâ€™humour et dâ€™audace sans pour autant Ãªtre dÃ©sagrÃ©able. Elle est tiraillÃ©e par ses choix, cherche la meilleure forme de justice, mais elle se rend bien compte que le monde nâ€™est ni blanc ni noir, il est fait de nuances de gris. Chacun a ses intÃ©rÃªts Ã  dÃ©fendre peu importe par quels agissements il faut passer. Câ€™est pour cela quâ€™on dÃ©couvre une hÃ©roÃ¯ne qui ne sait de quel cÃ´tÃ© se ranger et finit donc par emprunter des chemins qui ne sont pas 100% en adÃ©quation avec ce quâ€™elle souhaite dÃ©fendre. Bien quâ€™ils ne soient pas des plus dÃ©veloppÃ©s, jâ€™adore les relations complexes qui se tissent avec les personnages secondaires qui gravitent autour dâ€™elle.
        </p>
      </section>

      <button class="primary" id="btnAddFavoris">Ajouter aux favoris</button>
    </div>

    <!-- Section autres volumes -->
    <section class="other-volumes">
      <h2>Autres tomes</h2>
      <div class="volumes-list">
        <div class="volume">
          <img src="Images/glowoftheeverflame.jpg" alt="Couverture TomeÂ 2" />
          <div class="volume-title">TomeÂ 2</div>
        </div>
        <div class="volume">
          <img src="Images/heatote.webp" alt="Couverture TomeÂ 3" />
          <div class="volume-title">TomeÂ 3</div>
        </div>
      </div>
    </section>

    <!-- Section commentaires -->
    <section class="comments-section">
      <h2>Commentaires</h2>
      <form class="comment-form" action="#" method="post">
        <label for="comment-name">Nom</label>
        <input type="text" id="comment-name" name="name" required />

        <label for="comment-message">Votre commentaire</label>
        <textarea id="comment-message" name="message" rows="4" required></textarea>

        <button type="submit" class="secondary">Publier</button>
      </form>
    </section>
  </main>

  <!-- Formulaire de contact -->
    <div class="modal contact-modal" role="dialog" aria-modal="true" aria-labelledby="contactTitle">
    <div class="modal-content">
      <button class="close-btn" aria-label="Fermer la fenÃªtre">Ã—</button>
      <h2 id="contactTitle">Contactez-nous</h2>
      <form class="contact-form" action="#" method="post">
        <label for="contact-name">Nom</label>
        <input type="text" id="contact-name" name="name" required />

        <label for="contact-email">Email</label>
        <input type="email" id="contact-email" name="email" required />

        <label for="contact-message">Message</label>
        <textarea id="contact-message" name="message" rows="5" required></textarea>

        <button type="submit" class="secondary">Envoyer</button>
      </form>
    </div>
  </div>

  <!-- Script favoris amÃ©liorÃ© -->
  <script>
    function addToFavorites() {
      const coverImg = document.getElementById('mainCover');
      const title = document.querySelector('.review-text h1')?.textContent.trim();
      const author = document.querySelector('.author')?.textContent.trim();
      const url = window.location.pathname;

      if (!coverImg || !title || !author) {
        alert("DonnÃ©es du livre incomplÃ¨tes.");
        return;
      }

      const book = {
        title,
        author,
        cover: coverImg.getAttribute('src'),
        url
      };

      let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

      if (favorites.some(fav => fav.title === book.title)) {
        alert("Ce livre est dÃ©jÃ  dans vos favoris.");
        return;
      }

      favorites.push(book);
      localStorage.setItem('favorites', JSON.stringify(favorites));
      alert("Livre ajoutÃ© aux favoris !");
    }

    document.addEventListener('DOMContentLoaded', () => {
      const btnAdd = document.getElementById('btnAddFavoris');
      if (btnAdd) {
        btnAdd.addEventListener('click', addToFavorites);
      }

      const btnFavorisSidebar = document.getElementById('btnFavoris');
      btnFavorisSidebar.addEventListener('click', () => {
        window.location.href = 'favoris.html';
      });
    });
  </script>

  <script src="script.js"></script>
</body>
</html>
